% -*- latex -*-
\documentclass[class=memoir,border=200pt]{standalone}
\input{preamble-2018}
\input{macros-2018}

\begin{document}%
%\tikzexternaldisable%
\begin{tikzpicture}%

  \input{partial-addressing-modes}

  % The IR
  \AddressingModeIR{0}{0}{col10!50}

  % The PC
  \begin{scope}[,yshift=-1.5cm]
    \PageFromPC{col14!50}
  \end{scope}

  % The Accumulator.

  \begin{scope}[,yshift=-3cm]
    \TargetRegisterTwo{Page-relative address}{right}{\AC/\PC}{col14!50}{col10!50}
  \end{scope}

  % To balance diagram BB (invisible text)
  \draw (-0.2,0.3) node[left] { \color{white}\AC/\PC };       

  % The arrows
  \foreach \x in {0.25, 0.75, ..., 2.75} {
    \draw[arrow, -stealth] (\x, -1.5) -- (\x, -2.4);
  }
  \foreach \x in {3.25, 3.75, ..., 7.75} {
    \draw[line width=3pt,color=white] (\x, -0.8) -- (\x, -1.6);
    \draw[arrow, -stealth] (\x, 0) -- (\x, -2.4);
  }
    
\end{tikzpicture}%
%\tikzexternalenable%
\end{document}

% End of file.
