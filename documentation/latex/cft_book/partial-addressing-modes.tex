%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Some macros for addressing mode diagrams.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\AddressingModeIR[3]{
  \begin{scope}[thin,draw opacity=0,line width=0pt]
    %% \foreach \x in {0, 1, 2}{
    %%   \draw[fill=cfthl!50,xshift=\x cm](0,0) rectangle (0.5,0.6);
    %%   \draw[fill=cfthl!25,xshift=\x cm](0.5,0) rectangle (1,0.6);
    %% }
    \draw[fill=#3](3,0) rectangle (8,0.6);
  \end{scope}
  \foreach \x in {0.5, 1, ..., 7.5}{
    \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
  }
  \draw[line width=2pt](0,0) rectangle (8,0.6);
  \draw (8,0) node[below] { \footnotesize 0 };
  \draw (1.75,0) node[below] { \footnotesize 12 };
  \draw (2.25,0) node[below] { \footnotesize 11 };
  \draw (2.75,0) node[below] { \footnotesize 10 };
  %\draw (3,0) node[below right] { \footnotesize 9 };
  \draw (.25,0) node[below] { \footnotesize 15 };
  \draw[thick](2,-0.1) -- (2,0.6);
  \draw[thick](2.5,-0.1) -- (2.5,0.6);
  \draw[thick](3,-0.1) -- (3,0.6);

  \draw (1, 0.3) node { Instruction };
  \draw (2.25, 0.3) node { \bin{#1} }; % I
  \draw (2.75, 0.3) node { \bin{#2} }; % R
  \draw (5.5, 0.3) node { Operand };
  \draw (8.2,0.3) node[right] { \IR };
  \draw (-0.2,0.3) node[left] { \color{white}\IR };       

  \draw (2.25, 0.6) node[above] { I };
  \draw (2.75, 0.6) node[above] { R };
}

\newcommand\SixBitsOfZeroes{
    \begin{scope}[thin,draw opacity=0,line width=0pt]
      \draw[fill=col14!50](0,0) rectangle (3,0.6);
      %% \foreach \x in {0, 1, 2}{
      %%   \draw[fill=cfthl!50,xshift=\x cm](0,0) rectangle (0.5,0.6);
      %%   \draw[fill=cfthl!25,xshift=\x cm](0.5,0) rectangle (1,0.6);
      %% }
    \end{scope}
    \foreach \x in {0, 1, ..., 5}{
      \draw (0.25 + 0.5 * \x, 0.3) node { \bin{0} };
    }
    \foreach \x in {0.5, 1, ..., 2.5}{
      \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
    }
    \draw[line width=2pt](0,0) rectangle (3,0.6);
}

% Updated in 2018
\newcommand\PageFromPC[1]{
    \begin{scope}[thin,draw opacity=0,line width=0pt]
      %% \foreach \x in {0, 1, 2, 3, 4, 5, 6, 7}{
      %%   \draw[fill=cfthl!50,xshift=\x cm](0,0) rectangle (0.5,0.6);
      %%   \draw[fill=cfthl!25,xshift=\x cm](0.5,0) rectangle (1,0.6);
      %% }
      \draw[fill=#1](0,0) rectangle (3,0.6);
      %\draw[fill=cfthl!50](3,0) rectangle (8,0.6);
    \end{scope}
    \draw (1.5, 0.26) node[baseline] { Page };
    \draw[thick](3,-0.1) -- (3,0.6);
    \foreach \x in {0.5, 1, ..., 7.5}{
      \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
    }
    \draw[line width=2pt](0,0) rectangle (8,0.6);
    \draw (8.2,0.3) node[right] { \PC };
}

\newcommand\TargetRegister[4]{
    \begin{scope}[thin,draw opacity=0,line width=0pt]
      \draw[fill=#4](0,0) rectangle (8,0.6);
    \end{scope}
    \foreach \x in {0.5, 1, ..., 7.5}{
      \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
    }
    \draw (4, 0.3) node { #1 };
    \draw[line width=2pt](0,0) rectangle (8,0.6);
    \draw (8,0) node[below] { \footnotesize 0 };
    \draw (.25,0) node[below] { \footnotesize 15 };
    \draw (8.2,0.3) node[#2] {#3};
}
\newcommand\TargetRegisterDark[3]{
    \begin{scope}[thin,draw opacity=0,line width=0pt]
      \draw[fill=cfthl!50](0,0) rectangle (8,0.6);
    \end{scope}
    \foreach \x in {0.5, 1, ..., 7.5}{
      \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
    }
    \draw (4, 0.3) node { #1 };
    \draw[line width=2pt](0,0) rectangle (8,0.6);
    \draw (8,0) node[below] { \footnotesize 0 };
    \draw (.25,0) node[below] { \footnotesize 15 };
    \draw (8.2,0.3) node[#2] {#3};
}

% Updated in 2018
\newcommand\TargetRegisterTwo[5]{
    \begin{scope}[thin,draw opacity=0,line width=0pt]
      \draw[fill=#4](0,0) rectangle (3,0.6);
      \draw[fill=#5](3,0) rectangle (8,0.6);
    \end{scope}
    \foreach \x in {0.5, 1, ..., 7.5}{
      \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
    }
    \draw (4, 0.3) node { #1 };
    \draw[line width=2pt](0,0) rectangle (8,0.6);
    \draw (8,0) node[below] { \footnotesize 0 };
    \draw (.25,0) node[below] { \footnotesize 15 };
    \draw (8.2,0.3) node[#2] {#3};
}

\newcommand\TargetRegisterPageZero[5]{
    \begin{scope}[thin,draw opacity=0,line width=0pt]
      \draw[fill=#4](0,0) rectangle (3,0.6);
      \draw[fill=#5](3,0) rectangle (8,0.6);
    \end{scope}
    \draw[thick](3,-0.1) -- (3,0.6);
    \foreach \x in {0.5, 1, ..., 7.5}{
      \draw[thin] (\x cm, 0) -- (\x cm, -0.1cm);
    }
    \foreach \x in {0, 1, ..., 5}{
      \draw (0.25 + 0.5 * \x, 0.3) node { \bin{0} };
    }
    \draw (5.5, 0.3) node {#1};
    \draw[line width=2pt](0,0) rectangle (8,0.6);
    \draw (8,0) node[below] { \footnotesize 0 };
    \draw (.25,0) node[below] { \footnotesize 15 };
    \draw (8.2,0.3) node[#2] {#3};
}

\newcommand\TheMemoryBox[1]{
    \draw (1.5, 0) node[above] { Memory };
    \draw[top color=col17!50, bottom color=white](0,0) rectangle (3,-4);
    \draw[fill=#1, yshift=-3.55cm, thick](0,0) rectangle (3,0.5);
    \draw[line width=2pt](0,0) rectangle (3,-4);
    \draw (3, -4) node[right] { \footnotesize\hex{0000} };
    \draw (3, 0) node[right] { \footnotesize\hex{FFFF} };
    \draw (0, -4) node[below] { \footnotesize 15 };
    \draw (3, -4) node[below] { \footnotesize 0 };
}

\newcommand\TheIndirectionMemoryBox{
    \draw (1.5, 0) node[above] { Memory };
    \draw[top color=cfthl!50, bottom color=white](0,0) rectangle (3,-5.5);
    \draw[fill=cfthl!50, yshift=-3.55cm, thick](0,0) rectangle (3,0.5);
    \draw[fill=cfthl!25, yshift=-5.05cm, thick](0,0) rectangle (3,0.5);
    \draw[line width=2pt](0,0) rectangle (3,-5.5);
    \draw (3, -5.5) node[right] { \footnotesize\hex{0000} };
    \draw (3, 0) node[right] { \footnotesize\hex{FFFF} };
    \draw (0, -5.5) node[below] { \footnotesize 15 };
    \draw (3, -5.5) node[below] { \footnotesize 0 };
}

% End of file.
