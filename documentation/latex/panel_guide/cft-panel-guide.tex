\documentclass[11pt,a4paper,twocolumns]{article}
\usepackage[all]{xy}
\usepackage{tikz-timing}[2009/07/28]
\usetikztiminglibrary{either}[2009/07/28]
\usepackage{pdftricks}
\usepackage{epsfig}
\usepackage{lipsum}
\usepackage{float}
\usepackage{verbatim}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{color}
\usepackage{epic}
\usepackage{eepic}
\usepackage{fontspec}
\usepackage[dvipdfm,a4paper,CJKbookmarks,bookmarks=true,bookmarksopen=true]{hyperref}
\begin{psinputs}
\usepackage{color}
\usepackage{longtable}
\usepackage{pstcol}
\usepackage{pstricks}
\usepackage{pst-plot}
\usepackage{pst-tree}
\usepackage{pst-eps}
\usepackage{multido}
\usepackage{pst-node}
\usepackage{pst-eps}
\end{psinputs}
\definecolor{darkblue}{RGB}{0,0,128}
\hypersetup{
    pdftitle={CFT Minicomputer Front Panel Operations},
    pdfauthor={Alexios Chouchoulas},
    pdfkeywords={},
    bookmarksnumbered,
    pagebackref=true,
    breaklinks=true,
%    pdfview=FitH,       % Or try pdfstartview={FitV}, This lead to uncorrect bookmarks
    urlcolor=darkblue,
    colorlinks=true,
    citecolor=blue,          %citeref's color
    linkcolor=blue,
        }
% Fonts
%\defaultfontfeatures{Mapping=tex-text}
\setmainfont{Minion Pro}
\setsansfont{Myriad Pro}
\setmonofont[]{Inconsolata}

%\renewcommand{\rmdefault}{put}

\geometry{a4paper, hoffset=0in, voffset=-.25in, left=1.5cm, right=1.5cm,
  top=2.5cm, bottom=2.5cm}
\sloppy

% Use hyperlinking when renderind PDFs
\newcommand{\cf}[2][section]{\hyperref[#2]{#1 \ref*{#2} (p.~\pageref*{#2})}}
\newcommand{\npcf}[2][section]{\hyperref[#2]{#1 \ref*{#2}}}
\newcommand{\appcf}[1]{\cf[appendix]{#1}}
\newcommand{\ccf}[1]{\cf[chapter]{#1}}
\newcommand{\fcf}[1]{\cf[figure]{#1}}
\newcommand{\tcf}[1]{\cf[table]{#1}}
\newcommand{\ecf}[1]{\cf[equation]{#1}}
\newcommand{\algcf}[1]{\cf[algorithm]{#1}}
\newcommand{\npappcf}[1]{\npcf[appendix]{#1}}
\newcommand{\npccf}[1]{\npcf[chapter]{#1}}
\newcommand{\npfcf}[1]{\npcf[figure]{#1}}
\newcommand{\nptcf}[1]{\npcf[table]{#1}}
\newcommand{\npecf}[1]{\npcf[equation]{#1}}
\newcommand{\npalgcf}[1]{\npcf[algorithm]{#1}}

\setlength\columnsep{7mm}

\newcommand\hyperemail[1]{\sf\href{mailto:#1}{#1}}
\newcommand\link[1]{\sf\href{http://#1}{#1}}

\newcommand{\ns}[1]{$\overline{\mbox{\textsf{{#1}}}}$}
\newcommand{\ps}[1]{\textsf{#1}}
\newcommand{\lt}[1]{\textsf{#1}}
\newcommand{\sw}[1]{\textsf{#1}}

\newcommand\bus[1]{{#1}}
\newcommand\unit[1]{{#1}}
\newcommand\IBUS{\bus{IBUS}}
\newcommand\ALU{\unit{ALU}}
\newcommand\SBU{\unit{SBU}}
\newcommand\AGL{\unit{AGL}}
\newcommand\register[1]{\textsf{#1}}
\newcommand\A{\register{AC}}
\newcommand\AC{\A}
\newcommand\Lreg{\register{L}}
\newcommand\Ireg{\register{I}}
\newcommand\MAR{\register{MAR}}
\newcommand\DR{\register{DR}}
\newcommand\PC{\register{PC}}
\newcommand\IR{\register{IR}}

\newcommand\UINSTR{\ns{uINSTR18}}
\newcommand\HALT{\ns{HALT}}
\newcommand\END{\ns{END}}
\newcommand\IRQ{\ns{IRQ}}
\newcommand\IRQS{\ns{IRQS}}
\newcommand\IRQn[1]{\ns{IRQ{#1}}}
\newcommand\RUNITn[1]{\ps{RUNIT{#1}}}
\newcommand\TPA{\ps{TPA}}
\newcommand\TPC{\ps{TPC}}
\newcommand\WAC{\ns{WAC}}
\newcommand\WALU{\ns{WALU}}
\newcommand\WDR{\ns{WDR}}
\newcommand\WIR{\ns{WIR}}
\newcommand\WMAR{\ns{WMAR}}
\newcommand\WPC{\ns{WPC}}
\newcommand\SYSDEV{\ns{SYSDEV}}
\newcommand\OPIFn[1]{\ps{OPIF{#1}}}
\newcommand\GUARDPULSE{\ns{GUARD}}
\newcommand\GP{\GUARDPULSE}
\newcommand\CLOCK[1]{\ps{CLK{#1}}}
\newcommand\RSTHOLD{\ns{RSTHOLD}}
\newcommand\BOE{\ns{BOE}}
\newcommand\UOE{\ns{UOE}}
\newcommand\SKIP{\ns{SKIP}}
\newcommand\AINDEX{\ps{AINDEX}}
\newcommand\CLL{\ns{CLL}}
\newcommand\CPL{\ns{CPL}}
\newcommand\CLI{\ns{CLI}}
\newcommand\STI{\ns{STI}}
\newcommand\IRn[1]{\ps{IR{#1}}}
\newcommand\PCn[1]{\ps{PC{#1}}}
\newcommand\IBUSn[1]{\ps{IBUS#1}}
\newcommand\DBUSn[1]{\ps{DB#1}}
\newcommand\ABUSn[1]{\ps{AB#1}}
\newcommand\AEXTn[1]{\ps{AEXT#1}}
\newcommand\ISROLL{\ps{ISROLL}}
\newcommand\RAC{\ns{RAC}}
\newcommand\RAGL{\ns{RAGL}}
\newcommand\RDR{\ns{RDR}}
\newcommand\RPC{\ns{RPC}}
\newcommand\INCAC{\ns{INCAC}}
\newcommand\INCDR{\ns{INCDR}}
\newcommand\INCPC{\ns{INCPC}}
\newcommand\MEM{\ns{MEM}}
\newcommand\IO{\ns{IO}}
\newcommand\R{\ns{R}}
\newcommand\WRITE{\ns{W}}
\newcommand\READ{\ns{R}}
\newcommand\FL{\ps{FL}}
\newcommand\FV{\ps{FV}}
\newcommand\FZERO{\ps{FZERO}}
\newcommand\FNEG{\ps{FNEG}}
\newcommand\RESET{\ns{RESET}}

\newcommand\NB{\textbf{Nota Bene:\ }}

\begin{document}
\thispagestyle{empty}
\pagestyle{plain}
\twocolumn[
\centering
\includegraphics{figs/cft-logo-v1.pdf}\vspace{2em}\\
{\LARGE\bf CFT Minicomputer Front Panel Operation}
\vspace{10pt}

{\Large Alexios Chouchoulas}\\\vspace{5pt}
{\large \hyperemail{alexios@bedroomlan.org}}

\vspace{20pt}

\begin{minipage}{.75\textwidth}
  \begin{abstract}
    \small
    
  This document discusses tentative design and implementational
  details of the CFT computer's front panel and its intended
  operation. The front panel was designed last but is meant to be
  built first to aid in building, testing and operating the CFT
  computer during and after its construction. It also provides a
  traditional minicomputer programming interface, albeit a modernised
  LED-based one.
    
  \end{abstract}
  
  \section*{History of Changes}
  \small

  {\bf 2011-12-19} Initial revision.

  \vspace{5ex}
  
\end{minipage}
] % End of \twocolumn
\section{Introduction}

The CFT minicomputer is intended to be similar to a 1960s
minicomputer, and it could never be similar enough without a
programmer's front panel.

The front panel is serves two purposes: to inspect the state of the
computer, and to modify the state of the computer. State inspection is
made possible via a number of lights corresponding to the binary state
of most of the computer's crucial signals. State modification is via a
number of switches which control the operation of the computer's main
units and provide user input.

The CFT front panel is expected to provide a number of services.

\begin{itemize}
\item During construction, it will provide a means of testing most of
  the computer's individual units on their own. With some rewiring or
  reconfiguration, all of the computer's features can be tested.

\item After construction, it will allow microcode to be inspected and
  thereby debugged.

\item It will also allow the computer to be programmed without a
  ROM. A front panel was usually the only built-in means of
  programming a minicomputer, and in many cases was the only way the
  computer could be booted up.

\item It will allow debugging of software and hardware by allowing the
  computer to be stopped, its state inspected and perhaps changed, and
  then resuming execution.

\item Finally, it will allow the state of the running computer to be
  inspected with varying degrees of success.\footnote{The human eye
    is, of course, incapable of registering light pulses with MHz
    frequencies, but the panel lights register these with varying
    intensities of light.}

\end{itemize}

\section{Layout of the Front Panel}

\begin{figure*}[t]
\centering
\includegraphics[width=\textwidth]{../../panel/front-panel-v2-small.jpg}\\
\caption{\label{fig-panel}A first draft of the CFT front panel.}
\end{figure*}

The CFT minicomputer is intended to be built into a 19-inch rack-mount case, 6U
in height, making it approximately 19" by 10.5" (482.6mm by 266.7mm) in size.

The panel displays the state of the computer on 118 console lights. For lower
consumption, convenience and longevity, these are light-emitting diodes (LEDs).

30 toggle switches allow the computer's state to be modified, and user input to
be provided.

Computer power and panel locking is controlled by a three-position key switch.

All lights and switches are displaying multi-bit quantities are arranged with
the most significant bit to the right, in the conventional notation of binary
numbers. Bit numbers start at 0, which is the least significant bit or
rightmost light. This follows the conventional notation of powers-of-two.

\subsection{Console Lights}

The console lights are arranged in six rows.

\subsubsection{Memory Controller}

The leftmost bank of lights on the top row displays the status of the banking
memory controller, if it is installed.

If banking has been enabled, a green light marked \lt{ENABLED} indicates
this. Eight yellow lights marked \lt{AEXT7}–\lt{AEXT0} indicate the bank
currently selected.

Conventionally, the memory controller addresses up to one MWord of ROM mapped
in the top MWord of the 21-bit address space (physical addresses {\sf
  20:0000}–{\sf 3F:FFFF}). Thus, light \lt{AEXT7} also indicates that a ROM
bank is selected. The light is thus marked \lt{AEXT7/ROM}).

If the memory controller board is not installed, these lights remain off.

\subsubsection{Interrupt Controller}

The middle bank of lights on the top row indicates the status of the optional
interrupt controller on eight lights marked \lt{INT7}–\lt{INT0}.

Each of these lights will indicate a number of different conditions depending
on its colour.

\begin{itemize}
  \item {\bf Off}: the computer is ignoring this interrupt line, and there is
    no interrupt activity.
  \item {\bf Green}: the interrupt line is being used by the computer, but
    there is no interrupt activity.
  \item {\bf Orange}: the interrupt line is being used by
    the computer, with interrupt activity.
  \item {\bf Red}: there is interrupt activity, but it is being ignored
    by the computer.
\end{itemize}

Because interrupt pulses are too short and relatively rare, in order to make
them visible to the naked eye, each interrupt pulse will illuminate the light
red or orange for approximately one tenth of a second.

\subsubsection{Miscellaneous Lights}

Three green lights marked \lt{GEN2}–\lt{GEN0} are loacated at the right of the
topmost row. These are reserved for generic use. Hardware may indicate its
status on any of them via physical two-wire connections.

\subsubsection{State}

The leftmost bank of lights on the second row from the top indicates the
processor's major operating states.

\begin{itemize}
\item \lt{RUN} (green) indicates the processor clock is running.
\item \lt{STOP} (red) when the \lt{RUN} light is off and this light is
  on, the processor clock is stopped and the front panel switches are
  active (provided the front panel is unlocked). When the \lt{RUN}
  light is on and this light flashes briefly, some device is
  introducing wait states by briefly halting the processor.
\item \lt{FETCH} (yellow) indicates the processor is in the Fetch state,
  retrieving its next instruction from memory.
\item \lt{EXEC} (yellow) indicates the processor is in the Execute state,
  performing the task identified by the previously retrieved instruction.
\item \lt{INT} (yellow) indicates the processor is handling a previously
  retrieved interrupt. Because interrupt states are too short and relatively
  rare, in order to make them visible to the naked eye, each interrupt pulse
  will illuminate this light for approximately one tenth of a second.
\end{itemize}

\subsubsection{Program Counter}

Sixteen red lights on the second row from the top indicate the current value of
the \PC. When the \lt{FETCH} light is illuminated, the \PC{} contains the
address in memory of the instructing being fetched. When the \lt{EXEC} light is
illuminated, the \PC{} indicates the address of the {\em next\/} instruction to
be executed (as long as no branching takes place in the current instruction).

\subsubsection{Flags}

Five green lights indicate the state of the five minor registers (flags) of the
processor.

\begin{itemize}
\item \lt{N} indicates bit 15 of the \A{} is set.
\item \lt{Z} indicates the \A{} is zero.
\item \lt{V} indicates an arithmetic overflow has been detected by the \ALU.
\item \lt{I} indicates that the processor allows interrupts.
\item \lt{L} indicates the state of the \Lreg{} register.
\end{itemize}

\subsubsection{Accumulator}

Immediately to the right of the \lt{L} light, on the second row from the top,
are 16 red lights representing the current value of the \A{} register. The
placement is such that the $(L,A)$ pair is easy to inspect when adding or
rotating.

\subsubsection{Multi-Function Display}

The Multi-Function Display occupies the third row of lights. Using a switch,
the user may choose to display the value of the Front Panel Output Register,
the Data Register (\DR), and the current micro-Address vector. In the latter
case, the meanings of each bit are marked below each light. The most
significant bit is not used in this case.

\subsubsection{Memory}

The status of the memory and I/O sequencing is shown on a bank of four lights,
on the fourth row from the top (second row from the bottom). The meanings of
these lights are as follows:

\begin{itemize}
\item \lt{MEM} (yellow) indicates memory space is being accessed.
\item \lt{IO} (yellow) indicates Input/Output space is being accessed.
\item \lt{R} (green) indicates a read cycle is in progress.
\item \lt{W} (red) indicates a write cycle is in progress.
\end{itemize}

These lights are pairwise mutually exclusive. The four combinations of them
describe the nature of the memory or I/O access (memory read, memory write, I/O
read, I/O write). Please note that these lights are, in essence, part of the
micro-instruction as descibed below.

\subsubsection{Instruction Register}

The contents of the \IR{} are displayed to the right of the memory lights. The
instruction fields (operation, I, R, and operand field) are indicated below the
lights. Alternating yellow and red lights are used for each field to aid
reading the IR.

Please note that the \lt{L} light indicates {\em exactly\/} the corresponding
field in an instruction: register mode is active when the light is {\em off}.

\subsubsection{Micro-Instruction}

The bottom row of lights indicates most of the control signals emanating from
the Microcode ROM (the memory control signals, described above, are the only
exception). These are useful in debugging the machine at the microcode level.

\subsection{Switches}

There are 30 switches and a key switch arranged in two rows below the
bottom-most row of lights. The top row is the Switch Register (16
switches), while the 

\subsubsection{Key Lock}

The key lock operates computer power and controls access to the front
panel.

Computer power is off with the key in the \sw{OFF} position.

Computer power is on with the key in the \sw{ON} position. In this position,
most panel switches are locked. These are the exceptions:

\begin{itemize}
\item The key switch may be operated.
\item The 16 Switch Register switches may be used to register 16-bit values
  read by the computer via the Front Panel System Device.
\item The \sw{VERBOSE}/\sw{TERSE} switch may be operated to enable or disable
  some front panel lights.
\item The Multi-Function Display Selector may be operated to change what is
  displayed on the Multi-Function Display.
\end{itemize}

With the key switch in the \sw{PANEL} position, all panel switches are unlocked
and enabled.

\subsubsection{Switch Register}

The switch register comprises 16 toggle switches located below the bottom-most
row of lights. These may be used to provide instructions or values to be stored
in processor registers when the computer is halted, or read directly by
computer programs via the Front Panel System Device when the computer is
running. This is the only form of user input of the unexpanded computer.

The switches are aligned with the corresponding bits of the various red
register lights and numbered in the same power-of-two convention as register
display lights. Switches are grouped in four four-bit groups for easier
reading.

Push a switch up to set the corresonding bit. Push it down to clear it.

\subsubsection{Run Control}

The Run Control switch group is located on the bottom row of switches,
below the Switch Register switches. It comprises three momentary
action switches with six functions. Switches may be pushed up or down
momentarily to activate their corresponding functions. These are:

\begin{description}
\item{\bf\sw{RESET}} Push the leftmost switch up to reset the
computer.
\item{\bf\sw{START}} Push the leftmost switch down to reset the
computer and start the processor clock.
\item{\bf\sw{RUN}} Push the middle switch up to enable the computer
  clock and allow the computer to continue executing.
\item{\bf\sw{STOP}} Push the middle switch down to disable the
  computer clock. This halts the computer and activates the controls
  of the front panel. Please note that the clock is halted
  immediately, possibly in the middle of executing a
  microprogram. Examine the \lt{FETCH}, \lt{EXEC} and
  \lt{μADDR3}–\lt{μADDR0} lights to determine exactly where the
  machine stopped.
\item{\bf\sw{uSTEP}} Push the rightmost switch up to trigger a single
  clock pulse, advancing to the next microinstruction.
\item{\bf\sw{STEP}} Push the rightmost switch down to advance to the
  first execution clock of the next instruction. The computer's clock
  is briefly enabled until the end of the first fetch cycle
  encountered after the activation of the switch, and immediately
  halted. At that point, the Instruction Register will display the
  instruction about to be executed and the Program Counter will
  display the address of the {\em next\/} instruction to be executed
  (barring jumps or skips). An optional auto-repeat mechanism allows
  the computer to step over multiple instructions while the \sw{STEP}
  switch is depressed. To activate the auto-repeat, press and hold the
  switch. A single step will be performed. Approximately two seconds
  after, and approximately every second after that, further step
  operations will be performed.
\end{description}

\subsubsection{State modification}

The state modification group resides centred below the switch
register. It comprises seven momentary action action switches and one
on-on toggle switch performing 15 actions:

\begin{description}
\item{\bf\sw{LOAD ADDR}} Activate this leftmost switch up or down to load the
  contents of the Switch Register into the Program Counter.
\item{\bf\sw{LOAD IR}} Push the second switch up to load the contents
  of the Switch Register into the Instruction Register.
\item{\bf\sw{LOAD AC}} Push the second switch up to load the contents
  of the Switch Register into the Accumulator.
\item{\bf\sw{MEMORY DEPOSIT}} Push the third switch up to store the
  contents of the Switch Register onto the memory address displayed in
  the address (Program Counter) bank of lights.
\item{\bf\sw{MEMORY DEP NEXT}} Push the third switch down to store the
  contents of the Switch Register onto the memory address displayed in
  the address (Program Counter) bank of lights. The Program Counter
  address is incremented by one after this. Repeated activations of
  this switch can fill a region of memory with the value of the Switch
  Register.
\item{\bf\sw{MEMORY EXAMINE}} Push the fourth switch up to load a
  value from memory into the Accumulator. The memory address used is
  that of the Program Counter (address) lights.
\item{\bf\sw{MEMORY EXAM NEXT}} Push the fourth switch down to load a
  value from memory, and increment the Program Counter by
  one. Repeated activations of this switch allow regions of memory to
  be examined one word at a time.
\item{\bf\sw{INPUT/OUTPUT DEPOSIT}} Push the fifth switch up to
  perform the same function as the \sw{MEMORY DEPOSIT} switch, but for
  I/O space.
\item{\bf\sw{INPUT/OUTPUT DEP NEXT}} Push the fifth switch down to
  perform the same function as the \sw{MEMORY DEP NEXT} switch, but
  for I/O space.
\item{\bf\sw{INPUT/OUTPUT EXAMINE}} Push the sixth switch up to
  perform the same function as the \sw{MEMORY EXAMINE} switch, but for
  I/O space.
\item{\bf\sw{INPUT/OUTPUT EXAM NEXT}} Push the sixth switch down to
  perform the same function as the \sw{MEMORY EXAM NEXT} switch, but
  for I/O space.

\item{\bf\sw{RAM BNK}} The seventh switch is an on-on toggle switch,
  not a momentary action switch. When in the upper (\sw {RAM BNK})
  position, it maps 32 kWords of RAM to the top of the CFT address
  space. This is useful when the computer must be booted from the
  control panel. This setting is only valid while the \lt{ENABLED}
  light of the Memory Controller group is extinguished. Once the
  computer activates banking, the mapping is under its control and the
  position of this switch is ignored.
\item{\bf\sw{ROM BNK}} Likewise, when the switch is in the \sw{ROM
  BNK} position, 32 kWords of ROM are mapped to the top of the CFT
  address space. This position is required to execute the ROM
  bootstrap code directly after starting the machine.

\item{\bf\sw{IFR1}} Push the eighth switch up to send an interrupt 1
  (relatively high priority) pulse to the interrupt controller. This
  is used to provide asynchronous input to the computer, as long as
  the monitor software is aware of it.
\item{\bf\sw{IFR6}} Likewise, push the eighth switch down to send an
  interrupt 6 (relatively low priority) pulse to the interrupt
  controller.

\end{description}

All of the above functions, including the {\sw{RAM BNK}/\sw{ROM BNK}}
switch but {\em excluding\/} the \sw{IFR1}/\sw{IFR6} switch, are
locked out unless the key switch is in the \sw{PANEL} position, and
the clock is halted (\lt{RUN} light off; \lt{STOP} light on).

\subsubsection{Convenience and Panel Control Switches}

The rightmost group provides convenience functions:

\begin{description}
\item{\bf\sw{FAST}/\sw{SLOW}/\sw{TEST}} This three position toggle
  switch controls the speed of the system clock. In the \sw{FAST}
  position, the clock runs at its nominal speed. In the \sw{SLOW}
  position, the processor executes at a significantly increased clock
  period, in the order of one microsecond\footnote{The exact clock
    speed depends on the system clock and an internally configured
    clock divider.}). This executes approximately 1,000 clock ticks a
  second, or (very approximately) 100 instructions per second, making
  instructions visible on the panel lights. In the \sw{TEST} position,
  the clock period is increased even further, so that
  microinstructions become visible and approximately 10 instructions
  per second are executed. This is intended to allow testing
  microcode. In order to avoid potential glitches that would
  destabilise the system, the setting of this switch is ignored if the
  system is running or if front panel is locked via the key switch.

\item{\bf\sw{VERBOSE}/\sw{TERSE}} In the upper position, this switch
  enables all front panel lights for full diagnostics. In the interest
  of reducing light pollution and visual overloading, the lower
  position (\sw{TERSE}) disables a number of lights:
\begin{itemize}
\item The Memory Controller group,
\item The Interrupt Controller Controller group,
\item The Instruction Register,
\item The Flag Display,
\item The Memory Display, and
\item The μ-Instruction Display.
\end{itemize}

Some of these displays may be excluded from terse mode using jumpers
on the LED board. A mock-up of the panel in \sw{TERSE} mode is
available as~\fcf{fig-panel-terse}. Please note that the terms
‘verbose’ and ‘terse’ are under review.

\item{\bf Multi-Function Display Selector Switch} The rightmost switch
  on the bottom row of the front panel selects what is displayed on
  the Multi-Function Display bank. There are three options:
  \begin{description}
  \item{\bf\sw{OUTPUT REG}} Displays the contents of the Output Register
    on the Multi-Function Display. This register is provided by the
    Front Panel System Device and may be written to
    programmatically. It is the main form of user output available to
    an unexpanded CFT computer. On an expanded computer, the monitor
    program may use this register to display its high-level state,
    error codes, et cetera.
  \item{\bf\sw{DR}} Displays the Data Register on the Multi-Function
    Display.
  \item{\bf\sw{uADDR VEC}} Displays the 15-bit microcode address
    vector on the Multi-Function Display. The vector is made up of a
    number of components (conditions), each of which is marked under
    the corresponding light of the Multi-Function Display. This
    setting is intended to allow microcode testing.
  \end{description}
\end{description}

\begin{figure}
\centering
\includegraphics[width=\columnwidth]{figs/front-panel-v2-terse-small.jpg}\\
\caption{\label{fig-panel-terse}A mock-up of the front panel running in \sw{TERSE} mode.}
\end{figure}

\subsection{Power}

A key switch at the lower right controls power. At the leftmost position, the
computer is off. When the key is turned one position to the right, the computer
is activated with most panel switches locked. With the key int he rightmost
position, all panel switches are unlocked and the panel may be used in its
entirety.

\section{Using the Front Panel}

This section describes how to use the computer via the front panel.

\subsection{Power}

Insert the key in the key switch. Turn the key to the \sw{PANEL}
position. The computer activates, performs power supply diagnostics,
goes through a reset cycle, and halts itself. The \lt{STOP} light
should illuminate at this point, and the Program Counter will indicate
a binary address of {\sf 1111·1111·1111·0000}, or {\sf FFF0}.

\subsection{Boot from ROM}

With the computer freshly powered up and halted, or halted and reset,
move the \sw{ROM BNK}/\sw{RAM BNK} switch to the \sw{ROM BNK}
position.

Depress the \sw{RUN} or \sw{START} switch.

The computer boots from ROM and begins execution.

You may now secure the front panel by turning the key switch to the
\sw{ON} position.

\subsection{Toggle in Boot Code}

Ensure the computer is freshly powered up and halted, or halted and reset.

Set the Switch Register for a low value such as {\sf
  0000·0100·0000·0000} (1kWord from start of memory). Depress \sw{SET
  ADDR}.

Set the Switch Register for the first value of the bootstrap
code. Depress \sw{MEMORY DEP NEXT}. Repeat as required.

Reset the Switch Register for the initial address of the bootstrap
program. Depress \sw{SET ADDR}.

Depress \sw{RUN}. The computer starts execution of the code from the
specified address.

You may now secure the front panel by turning the key switch to the
\sw{ON} position.

\subsection{Halting the Computer Forcibly}

With the key switch in the \sw{PANEL} position, depress \sw{STOP}. The
computer halts.

\subsection{Resetting the Computer}

With the key switch in the \sw{PANEL} position, depress \sw{RESET} or
\sw{START}. The computer resets. If the computer is running, ROM must
be fitted and the \sw{ROM BNK}/\sw{RAM BNK} switch must be in the
\sw{ROM BNK} position.

\section{Hardware Guide}

The Front Panel comprises three distinct parts (though parts 2 and 3
may be implemented on the same physical board):

\begin{enumerate}
\item{\bf The Front Panel Controller Card} contains most of the front
  panel logic.
\item{\bf The Front Panel Driver and LED Board} hosts the LEDs and
  their drivers, as well as the Multi-Function display logic. The LED
  banks are connected directly to the corresponding processor hardware
  (e.g. the register card) using 8 or 9-conductor flat cables.
\item{The Front Panel Debounce and Switch Board} hosts the switches
  and their debounce circuitry.
\end{enumerate}

The controller connects to the switch and LED boards via a
daisy-chained 40-conductor ribbon cable.


\section{Further reading}

For further information on the CFT computer, please consult the
following URL:

\begin{center}
\link{www.bedroomlan.org/hardware/cft}
\end{center}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-1.jpg}\\
\caption{\label{fig-schematic-front-panel-1}Schematic drawing of the front panel LED and switch boards (1 of 7).}
\end{figure*}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-2.jpg}\\
\caption{\label{fig-schematic-front-panel-2}Schematic drawing of the front panel LED and switch boards (2 of 7).}
\end{figure*}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-3.jpg}\\
\caption{\label{fig-schematic-front-panel-3}Schematic drawing of the front panel LED and switch boards (3 of 7).}
\end{figure*}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-4.jpg}\\
\caption{\label{fig-schematic-front-panel-4}Schematic drawing of the front panel LED and switch boards (4 of 7).}
\end{figure*}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-5.jpg}\\
\caption{\label{fig-schematic-front-panel-5}Schematic drawing of the front panel LED and switch boards (5 of 7).}
\end{figure*}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-6.jpg}\\
\caption{\label{fig-schematic-front-panel-6}Schematic drawing of the front panel LED and switch boards (6 of 7).}
\end{figure*}

\begin{figure*}
\centering
\includegraphics[width=0.95\textheight,angle=90]{figs/front-panel-7.jpg}\\
\caption{\label{fig-schematic-front-panel-7}Schematic drawing of the front panel LED and switch boards (7 of 7).}
\end{figure*}

\end{document}

%%  LocalWords:  documentclass CFT Alexios PDP autoindexing Von LSI Chouchoulas
%%  LocalWords:  Neumann microprograms microprogram microinstructions Bauform
%%  LocalWords:  et cetera kiloword KWord kilowords KWords Autoindex rp GND CLC
%%  LocalWords:  SUBRET JSR TRAPRET ISRRET ISR autoindex th FC FFF tl RSTIN tri
%%  LocalWords:  FFFF pagerel vlgrey linewidth fillstyle fillcolor de GPULSE
%%  LocalWords:  addr FFFE IOT LIA JMP bitwise ORred asm bitfield CLA DMA IRQ
%%  LocalWords:  CLL RBL RBR RNL RNR NOP linearc SNA SZA SSL SNN SNZ
%%  LocalWords:  SCL CLI STI SNP lll RET RTT SBL SBR SNL SNR TTY
%%  LocalWords:  disjuncted conjuncted ANDed
